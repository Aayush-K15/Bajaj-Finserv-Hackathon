
















import textwrap
from typing import List, NoReturn


class Error(Exception):
    

    def __init__(self, *args, **kwargs):
        
        self.exit_code = kwargs.get("exit_code", 1)


class DockerError(Error):
    

    def __init__(self, message, cmd, exit_code):
        super(DockerError, self).__init__(message)
        self.message = message
        self.cmd = cmd
        self.exit_code = exit_code


def raise_docker_error_with_command(command: List[str], return_code: int) -> NoReturn:
    
    error_msg = textwrap.dedent(
        .format(
            code=return_code, cmd=" ".join(command)
        )
    )
    raise DockerError(error_msg, command, return_code)
