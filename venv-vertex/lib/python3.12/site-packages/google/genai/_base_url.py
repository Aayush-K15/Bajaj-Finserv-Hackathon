














import os
from typing import Optional

from .types import HttpOptions

_default_base_gemini_url = None
_default_base_vertex_url = None


def set_default_base_urls(
    gemini_url: Optional[str], vertex_url: Optional[str]
) -> None:
  
  global _default_base_gemini_url, _default_base_vertex_url
  _default_base_gemini_url = gemini_url
  _default_base_vertex_url = vertex_url


def get_base_url(
    vertexai: bool,
    http_options: Optional[HttpOptions] = None,
) -> Optional[str]:
  
  if http_options and http_options.base_url:
    return http_options.base_url

  if vertexai:
    return _default_base_vertex_url or os.getenv('GOOGLE_VERTEX_BASE_URL')
  else:
    return _default_base_gemini_url or os.getenv('GOOGLE_GEMINI_BASE_URL')
