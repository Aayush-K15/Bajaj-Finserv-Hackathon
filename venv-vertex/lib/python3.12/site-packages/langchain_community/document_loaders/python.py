import tokenize
from pathlib import Path
from typing import Union

from langchain_community.document_loaders.text import TextLoader


class PythonLoader(TextLoader):
    

    def __init__(self, file_path: Union[str, Path]):
        
        with open(file_path, "rb") as f:
            encoding, _ = tokenize.detect_encoding(f.readline)
        super().__init__(file_path=file_path, encoding=encoding)
