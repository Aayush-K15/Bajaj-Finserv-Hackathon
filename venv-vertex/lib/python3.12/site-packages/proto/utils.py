













import functools


def has_upb():
    try:
        from google._upb import _message  

        has_upb = True
    except ImportError:
        has_upb = False
    return has_upb


def cached_property(fx):
    

    @functools.wraps(fx)
    def inner(self):
        
        if not hasattr(self, "_cached_values"):
            object.__setattr__(self, "_cached_values", {})

        
        
        if fx.__name__ not in self._cached_values:
            self._cached_values[fx.__name__] = fx(self)

        
        return self._cached_values[fx.__name__]

    return property(inner)


__all__ = ("cached_property",)
