













from __future__ import annotations

import os
import platform
import re
import sys

SYSTEM = platform.system().lower()
IS_WINDOWS = SYSTEM == "windows"
IS_DARWIN = SYSTEM == "darwin"
IS_LINUX_OR_BSD = (SYSTEM == "linux") or ("bsd" in SYSTEM)


def is_pex() -> bool:
    
    return bool(re.match(r".*pex$", sys.path[0]))


def is_repl() -> bool:
    
    import inspect

    root_frame = inspect.stack()[-1]
    filename = root_frame[1]  

    if filename.endswith(os.path.join("bin", "ipython")):
        return True

    
    
    return filename in ("<stdin>", "<string>")


def is_executable_in_path(name: str) -> bool:
    
    from shutil import which

    return which(name) is not None
